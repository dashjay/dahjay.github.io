<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.101.0" />


<title>手动用cpp实现http(零) - Dashjay&#39;s</title>
<meta property="og:title" content="手动用cpp实现http(零) - Dashjay&#39;s">




  






<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">







</head>

<body>
  <div class="wrapper">
    <header class="header">
      <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/%3cnil%3e"
         width=""
         height=""
         alt="">
  </a>

  <ul class="nav-links">
    
    <li><a href="/">Home</a></li>
    
    <li><a href="https://learncppcn.github.io/">LearnCPP中文翻译</a></li>
    
    <li><a href="/cv">CV</a></li>
    
    <li><a href="/daily">我在做什么？</a></li>
    
    <li><a href="/open_source">Contribution</a></li>
    
  </ul>
</nav>

    </header>

<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">1 min read</span>
    


    <h1 class="article-title">手动用cpp实现http(零)</h1>

    
    <span class="article-date">2020-07-30</span>
    

    

    

    <div class="article-content">
      <p>2020年7月，笔者经过学习了cpp后打算入坑尝试手动实现 HTTP 服务器，过程中遇到很多问题，本文记录了笔者留下的一些记录，提供参考。</p>
<blockquote>
<p>下面的叙述中含有一些脚注，为了不影响已经非常熟悉的同学的阅读，我把一些说明放到了脚注里，方便阅读。</p>
</blockquote>
<p>Repo我开在这里，欢迎大家点个Star或者Fork操作。
<a href="https://github.com/dashjay/http_demo.git" target="_blank" rel="noopener">https://github.com/dashjay/http_demo.git</a>
</p>
<p>本教程[1]，使用6节课程/文章，尝试使用最简单的CPP知识实现一个高性能，简单的的HTTP Server。</p>
<ol>
<li>[易]简单的Cmake的教程，选用一个Socket库[2]并实现一个echo[3]。
<a href="https://github.com/dashjay/http_demo/tree/master/1-cmake-socket-echo" target="_blank" rel="noopener">link</a>
</li>
<li>[易]定义HTTP请求和返回体的结构，构建并输出HTTP请求和返回体到标准输出。
<a href="https://github.com/dashjay/http_demo/tree/master/2-http-request-response" target="_blank" rel="noopener">link</a>
</li>
<li>[易]引入cpptoml从文件读取配置，引入spdlog尝试打log，帮助调试。
<a href="https://github.com/dashjay/http_demo/tree/master/3-cpptoml-spdlog" target="_blank" rel="noopener">link</a>
</li>
<li>[难]定义一个bufReader类，并且使用该bufReader从TCP流中解析HTTP请求和返回体。
<a href="https://github.com/dashjay/http_demo/tree/master/4-bufreader" target="_blank" rel="noopener">link</a>
</li>
<li>[易]实现主程序逻辑，监听端口，接收请求。</li>
<li>[选]实现其他HTTP附加功能。</li>
</ol>

<h2 id="更新日志">更新日志 <a href="#%e6%9b%b4%e6%96%b0%e6%97%a5%e5%bf%97">¶</a></h2>
<ul>
<li>2020-08-06：维护 4 个分支太麻烦了，所有教程全部放到 master 分支的不同文件夹下</li>
<li>2020-08-05：更新教程 4-bufreader</li>
</ul>

<h2 id="我们要准备的东西推荐">我们要准备的东西(推荐） <a href="#%e6%88%91%e4%bb%ac%e8%a6%81%e5%87%86%e5%a4%87%e7%9a%84%e4%b8%9c%e8%a5%bf%e6%8e%a8%e8%8d%90">¶</a></h2>
<ul>
<li>一个顺手的IDE，推荐CLion，VScode，也可以用VIM，Emacs或你顺手的。</li>
<li>建议使用在Linux或MacOS下进行，因为我本地没Windows，没法为大家验证过程可行性。</li>
<li>你的耐心</li>
</ul>
<p>解释</p>
<ol>
<li>算不上什么教程，顺便测试一下脚注。</li>
<li>HTTP/GRPC 等等这样的协议通常底层采用TCP来实现，也就是学校里学到的那种面向流的服务，cpp中的系统调用实现的socker接口用起来有些不顺手。因此我找到了一个现代的Socket库
<a href="https://github.com/fpagliughi/sockpp" target="_blank" rel="noopener">https://github.com/fpagliughi/sockpp</a>
来帮助我们在这节课中完成HTTP服务器。</li>
<li>你发给它什么，他就回复什么，常见的网络库都会用这个代替HELLOWORLD</li>
</ol>

    </div>


  </article>


  


  <footer class="footer">
  <ul class="footer-links">
    <li>
      <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
    </li>
    <li>
      <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png"
          alt="Img link to Hugo website" width="22" height="22"></a>
    </li>
  </ul>
</footer>

</div>



</body>

</html>

  
</main>